{
    "sourceFile": "routes/web.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1736264455753,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1736264818348,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,8 +15,9 @@\n use App\\Http\\Controllers\\admin\\RequestTypeController;\n \n \n \n+\n use App\\Http\\Controllers\\guest\\HomepageController;\n use App\\Http\\Controllers\\guest\\UserController;\n use App\\Http\\Controllers\\guest\\LoginController;\n use App\\Http\\Controllers\\guest\\GuestRequestController;\n"
                },
                {
                    "date": 1736264832887,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,252 @@\n+<?php\n+\n+use App\\Http\\Controllers\\admin\\CustomerController;\n+use App\\Http\\Controllers\\admin\\DashboardController;\n+use App\\Http\\Controllers\\admin\\DepartmentController;\n+use App\\Http\\Controllers\\admin\\EmployeeController;\n+use App\\Http\\Controllers\\admin\\RequestController;\n+use App\\Http\\Controllers\\admin\\FaqController;\n+use App\\Http\\Controllers\\admin\\PermissionController;\n+use App\\Http\\Controllers\\admin\\StatisticalController;\n+use App\\Http\\Controllers\\admin\\ReportController;\n+use App\\Http\\Controllers\\admin\\AttachmentController;\n+use App\\Http\\Controllers\\admin\\ArticlesController;\n+use App\\Http\\Controllers\\admin\\ExportController;\n+use App\\Http\\Controllers\\admin\\RequestTypeController;\n+\n+\n+\n+\n+use App\\Http\\Controllers\\guest\\HomepageController;\n+use App\\Http\\Controllers\\guest\\UserController;\n+use App\\Http\\Controllers\\guest\\LoginController;\n+use App\\Http\\Controllers\\guest\\GuestRequestController;\n+use App\\Http\\Controllers\\guest\\ChatbotController;\n+\n+use App\\Http\\Controllers\\login\\AuthController;\n+use Illuminate\\Support\\Facades\\Route;\n+//Cấm đụng cái này\n+Route::get('/', [HomepageController::class, 'login'])->name('homepage.index');\n+\n+Route::get('/search', [HomepageController::class, 'search']);\n+\n+/*Route dashboard cho admin*/\n+Route::get('dashboard', [DashboardController::class, 'index'])->middleware('customersp')->name('dashboard.index');\n+\n+/*Route login admin*/\n+Route::get('loginAdmin', [AuthController::class, 'loginAdmin'])->name('loginAdmin');\n+Route::post('/loginAdminProcess', [AuthController::class, 'LoginAdminProcess'])->name('loginAdminProcess');\n+/*Route logout admin*/\n+Route::get('/logoutAdmin', [AuthController::class, 'LogoutAdmin'])->name('logoutAdmin');\n+\n+/*Route login*/\n+Route::get('login', [AuthController::class, 'login'])->name('login');\n+Route::post('/loginProcess', [AuthController::class, 'LoginProcess'])->name('loginProcess');\n+\n+/*Route logout*/\n+Route::get('/logout', [AuthController::class, 'Logout'])->name('logout');\n+/*Route register cua user*/\n+Route::get('/register', [AuthController::class, 'register'])->name('register');\n+Route::post('/registerProcess', [AuthController::class, 'registerProcess'])->name('registerProcess');\n+/*Router xử lý ForgotPass*/\n+Route::get('/forgotPass', [AuthController::class, 'forgotPass'])->name('forgotPass');\n+Route::post('/forgotPassProcess', [AuthController::class, 'forgotPassProcess'])->name('forgotPassProcess');\n+\n+// Thêm route trong web.php\n+Route::post('/delete-otp/{user_id}', [AuthController::class, 'deleteOtp'])->name('deleteOtp');\n+\n+Route::get('/verifyOTP/{user_id}', [AuthController::class, 'verifyOTP'])->name('verifyOTP');\n+Route::post('/resend-otp/{user_id}', [AuthController::class, 'resendOtp'])->name('resendOtp');\n+Route::post('/verifyOTPProcess/{user_id}', [AuthController::class, 'verifyOTPProcess'])->name('verifyOTPProcess');\n+\n+Route::get('/changePass/{user_id}', [AuthController::class, 'changePass'])->name('changePass');\n+Route::put('/updatePass/{user_id}', [AuthController::class, 'updatePass'])->name('updatePass');\n+\n+/*Route thay đổi mật khẩu từ email*/\n+Route::get('/changePassEmail/{user_id}', [AuthController::class, 'changePassEmail'])->name('changePassEmail');\n+/*Route update mật khẩu từ email*/\n+Route::put('/updatePassEmail/{user_id}', [AuthController::class, 'updatePassEmail'])->name('updatePassEmail');\n+\n+//\n+Route::post('/check-email', [AuthController::class, 'checkEmail'])->name('checkEmail');\n+\n+// Nhóm route cho phần admin\n+Route::name('customer.')->group(function () {\n+    // Hiển thị danh sách khách hàng\n+    Route::get('/customer/index', [CustomerController::class, 'index'])->middleware('customersp')->name('index');\n+\n+    // Hiển thị form tạo khách hàng mới\n+    Route::get('/customer/create', [CustomerController::class, 'create'])->middleware('customersp')->name('create');\n+\n+    // Lưu khách hàng mới\n+    Route::post('/customer/store', [CustomerController::class, 'store'])->middleware('customersp')->name('store');\n+\n+    // Chỉnh sửa khách hàng\n+    Route::get('/customer/edit/{customer_id}', [CustomerController::class, 'edit'])->middleware('customersp')->name('edit');\n+\n+    // Route cho cập nhật khách hàng\n+    Route::put('/customer/update/{customer_id}', [CustomerController::class, 'update'])->middleware('customersp')->name('update');\n+\n+    // Xóa khách hàng\n+    Route::delete('/customer/delete/{customer_id}', [CustomerController::class, 'destroy'])->middleware('customersp')->name('delete');\n+\n+    // Phê duyệt khách hàng\n+    Route::post('/customer/{customer_id}/approve', [CustomerController::class, 'approve'])->middleware('customersp')->name('approve');\n+    Route::post('/customer/{customer_id}/reject', [CustomerController::class, 'reject'])->middleware('customersp')->name('reject');\n+\n+    // Hiển thị danh sách khách hàng chờ duyệt\n+    Route::get('/customer/pending', [CustomerController::class, 'pendingCustomers'])->middleware('customersp')->name('pending');\n+});\n+\n+\n+\n+//Employee\n+Route::name('employee.')->group(function () {\n+    Route::get('/employee/editProfile', [EmployeeController::class, 'editProfile'])->middleware('customersp')->name('editProfile');\n+    Route::get('/check-username-employee/{username}', [EmployeeController::class, 'checkUsernameEmployee'])->middleware('customersp');\n+    Route::get('/check-email-employee/{email}', [EmployeeController::class, 'checkEmailEmployee'])->middleware('customersp');\n+    Route::put('/employee/updateProfile', [EmployeeController::class, 'updateProfile'])->middleware('customersp')->name('updateProfile');\n+    Route::put('/employee/changePass', [EmployeeController::class, 'changePass'])->middleware('customersp')->name('changePass');\n+});\n+\n+//Permission\n+Route::name('permission.')->group(function () {\n+    Route::get('permission/index', [PermissionController::class, 'index'])->middleware('admin')->name('index');\n+    Route::get('/permission/create', [PermissionController::class, 'create'])->middleware('admin')->name('create');\n+    Route::post('/permission/save', [PermissionController::class, 'save'])->middleware('admin')->name('save');\n+    Route::get('/permission/edit/{id}', [PermissionController::class, 'editPermission'])->middleware('admin')->name('edit');\n+    Route::put('/permission/update/{id}', [PermissionController::class, 'updatePermission'])->middleware('admin')->name('update');\n+    Route::delete('/permission/delete/{id}', [PermissionController::class, 'deletePermission'])->middleware('admin')->name('delete');\n+});\n+Route::get('/admin/user/list', [UserController::class, 'getUserList'])->name('guest.user.list');\n+Route::get('/admin/customer/list', [CustomerController::class, 'getUserList'])->name('admin.customer.list');\n+\n+\n+\n+//Department Routes\n+Route::name('department.')->group(function () {\n+    Route::get('/department/index', [DepartmentController::class, 'index'])->middleware('customersp')->name('index');\n+    Route::get('/department/create', [DepartmentController::class, 'create'])->middleware('customersp')->name('create');\n+    Route::post('/department/store', [DepartmentController::class, 'store'])->middleware('customersp')->name('store');\n+    Route::get('/department/edit/{department_id}', [DepartmentController::class, 'edit'])->middleware('customersp')->name('edit');\n+    Route::put('/department/update/{department_id}', [DepartmentController::class, 'update'])->middleware('customersp')->name('update');\n+    Route::delete('/department/delete/{department_id}', [DepartmentController::class, 'destroy'])->middleware('customersp')->name('delete');\n+});\n+\n+Route::name('requesttype.')->group(function () {\n+    Route::get('/requesttype/index', [RequestTypeController::class, 'index'])->middleware('customersp')->name('index');\n+    Route::get('/requesttype/create', [RequestTypeController::class, 'create'])->middleware('customersp')->name('create');\n+    Route::post('/requesttype/store', [RequestTypeController::class, 'store'])->middleware('customersp')->name('store');\n+    Route::get('/requesttype/edit/{request_type_id}', [RequestTypeController::class, 'edit'])->middleware('customersp')->name('edit');\n+    Route::put('/requesttype/update/{request_type_id}', [RequestTypeController::class, 'update'])->middleware('customersp')->name('update');\n+    Route::delete('/requesttype/delete/{request_type_id}', [RequestTypeController::class, 'destroy'])->middleware('customersp')->name('delete');\n+});\n+\n+// Request Routes\n+Route::name('request.')->group(function () {\n+    Route::get('/request/index', [RequestController::class, 'index'])->middleware('customersp')->name('index');\n+    Route::get('/request/create', [RequestController::class, 'create'])->middleware('customersp')->name('create');\n+    Route::post('/request/store', [RequestController::class, 'store'])->middleware('customersp')->name('store');\n+    Route::get('/request/edit/{request_id}', [RequestController::class, 'edit'])->middleware('customersp')->name('edit');\n+    Route::post('/request/reply/{request_id}', [RequestController::class, 'reply'])->middleware('customersp')->name('reply');\n+    Route::put('/request/update/{request_id}', [RequestController::class, 'update'])->middleware('customersp')->name('update');\n+    Route::delete('/request/delete/{request_id}', [RequestController::class, 'destroy'])->middleware('customersp')->name('delete');\n+\n+\n+    Route::get('/request/pendingByDate', [RequestController::class, 'getPendingRequestsByDate'])->name('pendingByDate');\n+});\n+\n+// Route để tải file đính kèm\n+Route::get('/attachments/download/{id}', [AttachmentController::class, 'download'])->name('attachments.download');\n+\n+//Nhóm thống kê:\n+// Hiển thị danh sách khách hàng\n+//Route::name('statistical.')->group(function () {\n+//    Route::get('/statistical/index', [ReportController::class, 'index'])->middleware('customersp')->name('index');\n+//});\n+Route::name('statistical.')->group(function () {\n+    Route::get('/statistical/index', [ReportController::class, 'index'])->middleware('customersp')->name('index');\n+});\n+Route::get('/api/get-request-data', [ReportController::class, 'getRequestData']);\n+Route::get('/api/get-time-data', [ReportController::class, 'getTimeData']);\n+Route::get('/api/get-time-data', [ReportController::class, 'getTimeStatistics']);\n+Route::get('/api/get-departments', [ReportController::class, 'getDepartments']);\n+Route::get('/api/get-request-types', [ReportController::class, 'getRequestTypes']);\n+Route::get('/department-report', [ReportController::class, 'getDepartmentReportData']);\n+// Route cho API lấy dữ liệu yêu cầu\n+Route::get('/api/requests', [ReportController::class, 'getRequests']);\n+\n+// Route trong Laravel\n+Route::get('/get-time-statistics', [ReportController::class, 'getTimeStatistics']);\n+\n+\n+\n+// Test\n+Route::get('/statistics', [StatisticalController::class, 'index']);\n+Route::get('/api/customer-stats', [StatisticalController::class, 'getCustomerStats']);\n+Route::get('/api/search-customers', [StatisticalController::class, 'searchCustomers']);\n+Route::get('/api/request-type-stats', [StatisticalController::class, 'getRequestTypeStats']);\n+Route::get('/api/department-stats', [StatisticalController::class, 'getDepartmentStats']);\n+Route::get('/api/time-stats', [StatisticalController::class, 'getTimeStats']);\n+\n+\n+\n+\n+// FAQ Routes\n+// FAQ Routes\n+Route::name('faq.')->group(function () {\n+    Route::get('/faq/index', [FaqController::class, 'index'])->middleware('customersp')->name('index');\n+    Route::get('/faq/create', [FaqController::class, 'create'])->middleware('customersp')->name('create');\n+    Route::post('/faq/stores', [FaqController::class, 'store'])->middleware('customersp')->name('store');\n+    Route::get('/faq/feedback/{faq_id}', [FaqController::class, 'feedback'])->middleware('customersp')->name('feedback');\n+    Route::put('/faq/feedbackProcess/{faq_id}', [FaqController::class, 'feedbackProcess'])->middleware('customersp')->name('feedbackProcess');\n+    Route::delete('/faq/delete/{faq_id}', [FaqController::class, 'destroy'])->middleware('customersp')->name('delete');\n+\n+    // Route for unansweredByDate\n+    Route::get('/faq/unansweredByDate', [FaqController::class, 'unansweredByDate'])->name('unansweredByDate');\n+    Route::get('/faq/answer/{faq_id}', [FaqController::class, 'getAnswer'])->name('faq.answer');\n+\n+    Route::post('/faq/store', [FaqController::class, 'storeAjax'])->name('faq.storeAjax');\n+});\n+\n+// Article Routes\n+Route::name('articles.')->group(function () {\n+    Route::get('/articles/index', [ArticlesController::class, 'index'])->middleware('customersp')->name('index');\n+    Route::get('/articles/edit/{article_id}', [ArticlesController::class, 'edit'])->middleware('customersp')->name('edit');\n+    Route::put('/articles/update/{article_id}', [ArticlesController::class, 'update'])->middleware('customersp')->name('update');\n+    Route::get('/articles/create', [ArticlesController::class, 'create'])->middleware('customersp')->name('create');\n+    Route::post('/articles/store', [ArticlesController::class, 'store'])->middleware('customersp')->name('store');\n+\n+    Route::delete('/articles/delete/{faq_id}', [ArticlesController::class, 'destroy'])->middleware('customersp')->name('delete');\n+});\n+\n+\n+//Account\n+Route::get('account', [UserController::class, 'indexAccount'])->middleware('customer')->name('indexAccount');\n+Route::put('guest/changePass', [UserController::class, 'changePass'])->middleware('customer')->name('account.changePass');\n+Route::put('/updateProfile', [UserController::class, 'updateProfile'])->middleware('customer')->name('customer.updateProfile');\n+Route::post('/account-switch/{id}', [UserController::class, 'switchAccount'])->middleware('customer')->name('account.switch');\n+Route::delete('remove-account/{customer_id}', [UserController::class, 'removeAccount'])->middleware('customer')->name('account.remove');\n+Route::get('/feedback/{request_id}', [UserController::class, 'getFeedbackByRequestId'])->middleware('customer');\n+Route::post('/reply/{request_id}', [UserController::class, 'reply'])->middleware('customer')->name('customer.reply');\n+\n+Route::get('/check-username-customer/{username}', [UserController::class, 'checkUsernameCustomer'])->middleware('customer');\n+Route::get('/check-email-customer/{email}', [UserController::class, 'checkEmailCustomer'])->middleware('customer');\n+// Route để hiển thị form\n+Route::get('/pend-request', [HomepageController::class, 'showFormRequest'])->middleware('customer')->name('showFormRequest');\n+\n+// Route để xử lý lưu yêu cầu\n+Route::post('/pend-request/store', [GuestRequestController::class, 'store'])->middleware('customer')->name('guest.request.store');\n+// Route để lấy trạng thái yêu cầu\n+Route::get('/api/request-status/{requestId}', [GuestRequestController::class, 'getRequestStatus'])\n+    ->middleware('auth') // Hoặc middleware phù hợp\n+    ->name('api.requestStatus');\n+\n+\n+//Test-chat bot\n+Route::get('/chatbot', [ChatbotController::class, 'index']);\n+Route::post('/chatbot/chat', [ChatbotController::class, 'chat']);\n+Route::get('/chatbot/faqs', [ChatbotController::class, 'getFAQs']); // Thêm route này\n+\n+//Xuất file CSV\n+Route::get('/export-csv/{type}', [ExportController::class, 'export'])->name('export.csv');\n"
                }
            ],
            "date": 1736264455753,
            "name": "Commit-0",
            "content": "<?php\n\nuse App\\Http\\Controllers\\admin\\CustomerController;\nuse App\\Http\\Controllers\\admin\\DashboardController;\nuse App\\Http\\Controllers\\admin\\DepartmentController;\nuse App\\Http\\Controllers\\admin\\EmployeeController;\nuse App\\Http\\Controllers\\admin\\RequestController;\nuse App\\Http\\Controllers\\admin\\FAQController;\nuse App\\Http\\Controllers\\admin\\PermissionController;\nuse App\\Http\\Controllers\\admin\\StatisticalController;\nuse App\\Http\\Controllers\\admin\\ReportController;\nuse App\\Http\\Controllers\\admin\\AttachmentController;\nuse App\\Http\\Controllers\\admin\\ArticlesController;\nuse App\\Http\\Controllers\\admin\\ExportController;\nuse App\\Http\\Controllers\\admin\\RequestTypeController;\n\n\n\nuse App\\Http\\Controllers\\guest\\HomepageController;\nuse App\\Http\\Controllers\\guest\\UserController;\nuse App\\Http\\Controllers\\guest\\LoginController;\nuse App\\Http\\Controllers\\guest\\GuestRequestController;\nuse App\\Http\\Controllers\\guest\\ChatbotController;\n\nuse App\\Http\\Controllers\\login\\AuthController;\nuse Illuminate\\Support\\Facades\\Route;\n//Cấm đụng cái này\nRoute::get('/', [HomepageController::class, 'login'])->name('homepage.index');\n\nRoute::get('/search', [HomepageController::class, 'search']);\n\n/*Route dashboard cho admin*/\nRoute::get('dashboard', [DashboardController::class, 'index'])->middleware('customersp')->name('dashboard.index');\n\n/*Route login admin*/\nRoute::get('loginAdmin', [AuthController::class, 'loginAdmin'])->name('loginAdmin');\nRoute::post('/loginAdminProcess', [AuthController::class, 'LoginAdminProcess'])->name('loginAdminProcess');\n/*Route logout admin*/\nRoute::get('/logoutAdmin', [AuthController::class, 'LogoutAdmin'])->name('logoutAdmin');\n\n/*Route login*/\nRoute::get('login', [AuthController::class, 'login'])->name('login');\nRoute::post('/loginProcess', [AuthController::class, 'LoginProcess'])->name('loginProcess');\n\n/*Route logout*/\nRoute::get('/logout', [AuthController::class, 'Logout'])->name('logout');\n/*Route register cua user*/\nRoute::get('/register', [AuthController::class, 'register'])->name('register');\nRoute::post('/registerProcess', [AuthController::class, 'registerProcess'])->name('registerProcess');\n/*Router xử lý ForgotPass*/\nRoute::get('/forgotPass', [AuthController::class, 'forgotPass'])->name('forgotPass');\nRoute::post('/forgotPassProcess', [AuthController::class, 'forgotPassProcess'])->name('forgotPassProcess');\n\n// Thêm route trong web.php\nRoute::post('/delete-otp/{user_id}', [AuthController::class, 'deleteOtp'])->name('deleteOtp');\n\nRoute::get('/verifyOTP/{user_id}', [AuthController::class, 'verifyOTP'])->name('verifyOTP');\nRoute::post('/resend-otp/{user_id}', [AuthController::class, 'resendOtp'])->name('resendOtp');\nRoute::post('/verifyOTPProcess/{user_id}', [AuthController::class, 'verifyOTPProcess'])->name('verifyOTPProcess');\n\nRoute::get('/changePass/{user_id}', [AuthController::class, 'changePass'])->name('changePass');\nRoute::put('/updatePass/{user_id}', [AuthController::class, 'updatePass'])->name('updatePass');\n\n/*Route thay đổi mật khẩu từ email*/\nRoute::get('/changePassEmail/{user_id}', [AuthController::class, 'changePassEmail'])->name('changePassEmail');\n/*Route update mật khẩu từ email*/\nRoute::put('/updatePassEmail/{user_id}', [AuthController::class, 'updatePassEmail'])->name('updatePassEmail');\n\n//\nRoute::post('/check-email', [AuthController::class, 'checkEmail'])->name('checkEmail');\n\n// Nhóm route cho phần admin\nRoute::name('customer.')->group(function () {\n    // Hiển thị danh sách khách hàng\n    Route::get('/customer/index', [CustomerController::class, 'index'])->middleware('customersp')->name('index');\n\n    // Hiển thị form tạo khách hàng mới\n    Route::get('/customer/create', [CustomerController::class, 'create'])->middleware('customersp')->name('create');\n\n    // Lưu khách hàng mới\n    Route::post('/customer/store', [CustomerController::class, 'store'])->middleware('customersp')->name('store');\n\n    // Chỉnh sửa khách hàng\n    Route::get('/customer/edit/{customer_id}', [CustomerController::class, 'edit'])->middleware('customersp')->name('edit');\n\n    // Route cho cập nhật khách hàng\n    Route::put('/customer/update/{customer_id}', [CustomerController::class, 'update'])->middleware('customersp')->name('update');\n\n    // Xóa khách hàng\n    Route::delete('/customer/delete/{customer_id}', [CustomerController::class, 'destroy'])->middleware('customersp')->name('delete');\n\n    // Phê duyệt khách hàng\n    Route::post('/customer/{customer_id}/approve', [CustomerController::class, 'approve'])->middleware('customersp')->name('approve');\n    Route::post('/customer/{customer_id}/reject', [CustomerController::class, 'reject'])->middleware('customersp')->name('reject');\n\n    // Hiển thị danh sách khách hàng chờ duyệt\n    Route::get('/customer/pending', [CustomerController::class, 'pendingCustomers'])->middleware('customersp')->name('pending');\n});\n\n\n\n//Employee\nRoute::name('employee.')->group(function () {\n    Route::get('/employee/editProfile', [EmployeeController::class, 'editProfile'])->middleware('customersp')->name('editProfile');\n    Route::get('/check-username-employee/{username}', [EmployeeController::class, 'checkUsernameEmployee'])->middleware('customersp');\n    Route::get('/check-email-employee/{email}', [EmployeeController::class, 'checkEmailEmployee'])->middleware('customersp');\n    Route::put('/employee/updateProfile', [EmployeeController::class, 'updateProfile'])->middleware('customersp')->name('updateProfile');\n    Route::put('/employee/changePass', [EmployeeController::class, 'changePass'])->middleware('customersp')->name('changePass');\n});\n\n//Permission\nRoute::name('permission.')->group(function () {\n    Route::get('permission/index', [PermissionController::class, 'index'])->middleware('admin')->name('index');\n    Route::get('/permission/create', [PermissionController::class, 'create'])->middleware('admin')->name('create');\n    Route::post('/permission/save', [PermissionController::class, 'save'])->middleware('admin')->name('save');\n    Route::get('/permission/edit/{id}', [PermissionController::class, 'editPermission'])->middleware('admin')->name('edit');\n    Route::put('/permission/update/{id}', [PermissionController::class, 'updatePermission'])->middleware('admin')->name('update');\n    Route::delete('/permission/delete/{id}', [PermissionController::class, 'deletePermission'])->middleware('admin')->name('delete');\n});\nRoute::get('/admin/user/list', [UserController::class, 'getUserList'])->name('guest.user.list');\nRoute::get('/admin/customer/list', [CustomerController::class, 'getUserList'])->name('admin.customer.list');\n\n\n\n//Department Routes\nRoute::name('department.')->group(function () {\n    Route::get('/department/index', [DepartmentController::class, 'index'])->middleware('customersp')->name('index');\n    Route::get('/department/create', [DepartmentController::class, 'create'])->middleware('customersp')->name('create');\n    Route::post('/department/store', [DepartmentController::class, 'store'])->middleware('customersp')->name('store');\n    Route::get('/department/edit/{department_id}', [DepartmentController::class, 'edit'])->middleware('customersp')->name('edit');\n    Route::put('/department/update/{department_id}', [DepartmentController::class, 'update'])->middleware('customersp')->name('update');\n    Route::delete('/department/delete/{department_id}', [DepartmentController::class, 'destroy'])->middleware('customersp')->name('delete');\n});\n\nRoute::name('requesttype.')->group(function () {\n    Route::get('/requesttype/index', [RequestTypeController::class, 'index'])->middleware('customersp')->name('index');\n    Route::get('/requesttype/create', [RequestTypeController::class, 'create'])->middleware('customersp')->name('create');\n    Route::post('/requesttype/store', [RequestTypeController::class, 'store'])->middleware('customersp')->name('store');\n    Route::get('/requesttype/edit/{request_type_id}', [RequestTypeController::class, 'edit'])->middleware('customersp')->name('edit');\n    Route::put('/requesttype/update/{request_type_id}', [RequestTypeController::class, 'update'])->middleware('customersp')->name('update');\n    Route::delete('/requesttype/delete/{request_type_id}', [RequestTypeController::class, 'destroy'])->middleware('customersp')->name('delete');\n});\n\n// Request Routes\nRoute::name('request.')->group(function () {\n    Route::get('/request/index', [RequestController::class, 'index'])->middleware('customersp')->name('index');\n    Route::get('/request/create', [RequestController::class, 'create'])->middleware('customersp')->name('create');\n    Route::post('/request/store', [RequestController::class, 'store'])->middleware('customersp')->name('store');\n    Route::get('/request/edit/{request_id}', [RequestController::class, 'edit'])->middleware('customersp')->name('edit');\n    Route::post('/request/reply/{request_id}', [RequestController::class, 'reply'])->middleware('customersp')->name('reply');\n    Route::put('/request/update/{request_id}', [RequestController::class, 'update'])->middleware('customersp')->name('update');\n    Route::delete('/request/delete/{request_id}', [RequestController::class, 'destroy'])->middleware('customersp')->name('delete');\n\n\n    Route::get('/request/pendingByDate', [RequestController::class, 'getPendingRequestsByDate'])->name('pendingByDate');\n});\n\n// Route để tải file đính kèm\nRoute::get('/attachments/download/{id}', [AttachmentController::class, 'download'])->name('attachments.download');\n\n//Nhóm thống kê:\n// Hiển thị danh sách khách hàng\n//Route::name('statistical.')->group(function () {\n//    Route::get('/statistical/index', [ReportController::class, 'index'])->middleware('customersp')->name('index');\n//});\nRoute::name('statistical.')->group(function () {\n    Route::get('/statistical/index', [ReportController::class, 'index'])->middleware('customersp')->name('index');\n});\nRoute::get('/api/get-request-data', [ReportController::class, 'getRequestData']);\nRoute::get('/api/get-time-data', [ReportController::class, 'getTimeData']);\nRoute::get('/api/get-time-data', [ReportController::class, 'getTimeStatistics']);\nRoute::get('/api/get-departments', [ReportController::class, 'getDepartments']);\nRoute::get('/api/get-request-types', [ReportController::class, 'getRequestTypes']);\nRoute::get('/department-report', [ReportController::class, 'getDepartmentReportData']);\n// Route cho API lấy dữ liệu yêu cầu\nRoute::get('/api/requests', [ReportController::class, 'getRequests']);\n\n// Route trong Laravel\nRoute::get('/get-time-statistics', [ReportController::class, 'getTimeStatistics']);\n\n\n\n// Test\nRoute::get('/statistics', [StatisticalController::class, 'index']);\nRoute::get('/api/customer-stats', [StatisticalController::class, 'getCustomerStats']);\nRoute::get('/api/search-customers', [StatisticalController::class, 'searchCustomers']);\nRoute::get('/api/request-type-stats', [StatisticalController::class, 'getRequestTypeStats']);\nRoute::get('/api/department-stats', [StatisticalController::class, 'getDepartmentStats']);\nRoute::get('/api/time-stats', [StatisticalController::class, 'getTimeStats']);\n\n\n\n\n// FAQ Routes\n// FAQ Routes\nRoute::name('faq.')->group(function () {\n    Route::get('/faq/index', [FaqController::class, 'index'])->middleware('customersp')->name('index');\n    Route::get('/faq/create', [FaqController::class, 'create'])->middleware('customersp')->name('create');\n    Route::post('/faq/stores', [FaqController::class, 'store'])->middleware('customersp')->name('store');\n    Route::get('/faq/feedback/{faq_id}', [FaqController::class, 'feedback'])->middleware('customersp')->name('feedback');\n    Route::put('/faq/feedbackProcess/{faq_id}', [FaqController::class, 'feedbackProcess'])->middleware('customersp')->name('feedbackProcess');\n    Route::delete('/faq/delete/{faq_id}', [FaqController::class, 'destroy'])->middleware('customersp')->name('delete');\n\n    // Route for unansweredByDate\n    Route::get('/faq/unansweredByDate', [FaqController::class, 'unansweredByDate'])->name('unansweredByDate');\n    Route::get('/faq/answer/{faq_id}', [FaqController::class, 'getAnswer'])->name('faq.answer');\n\n    Route::post('/faq/store', [FaqController::class, 'storeAjax'])->name('faq.storeAjax');\n});\n\n// Article Routes\nRoute::name('articles.')->group(function () {\n    Route::get('/articles/index', [ArticlesController::class, 'index'])->middleware('customersp')->name('index');\n    Route::get('/articles/edit/{article_id}', [ArticlesController::class, 'edit'])->middleware('customersp')->name('edit');\n    Route::put('/articles/update/{article_id}', [ArticlesController::class, 'update'])->middleware('customersp')->name('update');\n    Route::get('/articles/create', [ArticlesController::class, 'create'])->middleware('customersp')->name('create');\n    Route::post('/articles/store', [ArticlesController::class, 'store'])->middleware('customersp')->name('store');\n\n    Route::delete('/articles/delete/{faq_id}', [ArticlesController::class, 'destroy'])->middleware('customersp')->name('delete');\n});\n\n\n//Account\nRoute::get('account', [UserController::class, 'indexAccount'])->middleware('customer')->name('indexAccount');\nRoute::put('guest/changePass', [UserController::class, 'changePass'])->middleware('customer')->name('account.changePass');\nRoute::put('/updateProfile', [UserController::class, 'updateProfile'])->middleware('customer')->name('customer.updateProfile');\nRoute::post('/account-switch/{id}', [UserController::class, 'switchAccount'])->middleware('customer')->name('account.switch');\nRoute::delete('remove-account/{customer_id}', [UserController::class, 'removeAccount'])->middleware('customer')->name('account.remove');\nRoute::get('/feedback/{request_id}', [UserController::class, 'getFeedbackByRequestId'])->middleware('customer');\nRoute::post('/reply/{request_id}', [UserController::class, 'reply'])->middleware('customer')->name('customer.reply');\n\nRoute::get('/check-username-customer/{username}', [UserController::class, 'checkUsernameCustomer'])->middleware('customer');\nRoute::get('/check-email-customer/{email}', [UserController::class, 'checkEmailCustomer'])->middleware('customer');\n// Route để hiển thị form\nRoute::get('/pend-request', [HomepageController::class, 'showFormRequest'])->middleware('customer')->name('showFormRequest');\n\n// Route để xử lý lưu yêu cầu\nRoute::post('/pend-request/store', [GuestRequestController::class, 'store'])->middleware('customer')->name('guest.request.store');\n// Route để lấy trạng thái yêu cầu\nRoute::get('/api/request-status/{requestId}', [GuestRequestController::class, 'getRequestStatus'])\n    ->middleware('auth') // Hoặc middleware phù hợp\n    ->name('api.requestStatus');\n\n\n//Test-chat bot\nRoute::get('/chatbot', [ChatbotController::class, 'index']);\nRoute::post('/chatbot/chat', [ChatbotController::class, 'chat']);\nRoute::get('/chatbot/faqs', [ChatbotController::class, 'getFAQs']); // Thêm route này\n\n//Xuất file CSV\nRoute::get('/export-csv/{type}', [ExportController::class, 'export'])->name('export.csv');\n"
        }
    ]
}